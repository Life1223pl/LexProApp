{% extends 'base.html.twig' %}

{% block title %}Logowanie{% endblock %}

{% block body %}
    <div style="max-width: 400px; margin: 40px auto;">

        <form method="post">
            {% if error %}
                <div class="alert alert-danger">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            {% if app.user %}
                <div class="mb-3">
                    Jesteś zalogowany jako {{ app.user.userIdentifier }},
                    <a href="{{ path('app_logout') }}">Wyloguj</a>
                </div>
            {% endif %}

            <h1 class="h3 mb-3 font-weight-normal">Zaloguj się</h1>

            <label for="inputEmail">Email</label>
            <input
                type="email"
                value="{{ last_username }}"
                name="email"
                id="inputEmail"
                class="form-control"
                autocomplete="email"
                required
                autofocus
            >

            <label for="inputPassword">Hasło</label>
            <input
                type="password"
                name="password"
                id="inputPassword"
                class="form-control"
                autocomplete="current-password"
                required
            >

            <input
                type="hidden"
                name="_csrf_token"
                value="{{ csrf_token('authenticate') }}"
            >

            <button class="btn btn-lg btn-primary" type="submit" style="margin-top: 12px; width: 100%;">
                Zaloguj
            </button>
        </form>

        <hr style="margin: 20px 0;">

        <p style="text-align: center;">
            Nie masz konta?
            <a href="{{ path('app_register') }}">Zarejestruj się</a>
        </p>

    </div>
{% endblock %}
